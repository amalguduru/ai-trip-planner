import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a detailed travel plan for a couple visiting Las Vegas on a cheap budget for 3 days, presented in JSON format. This includes hotel options, a daily itinerary, and all the requested details.\n\n```json\n{\n  "tripDetails": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 Days",\n    "budget": "Cheap",\n    "travelers": "Couple"\n  },\n  "hotelOptions": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n       "price": 40,\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Circus_Circus_Hotel_and_Casino_Las_Vegas_NV.jpg/1280px-Circus_Circus_Hotel_and_Casino_Las_Vegas_NV.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1383,\n        "longitude": -115.1654\n      },\n      "rating": 3.5,\n      "description": "A classic, family-friendly hotel on the Strip with a circus theme. Offers budget-friendly rooms and is known for its Adventuredome indoor theme park."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": 50,\n       "hotelImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Excalibur_Hotel_and_Casino_Las_Vegas_NV.jpg/1280px-Excalibur_Hotel_and_Casino_Las_Vegas_NV.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0984,\n        "longitude": -115.1731\n      },\n      "rating": 3.7,\n      "description": "A medieval-themed hotel at the southern end of the Strip. Features affordable rooms and a variety of entertainment options."\n    },\n    {\n        "hotelName": "OYO Hotel & Casino Las Vegas",\n        "hotelAddress": "115 E Tropicana Ave, Las Vegas, NV 89109",\n        "price": 35,\n         "hotelImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Hooters_Hotel_in_Las_Vegas.jpg/1280px-Hooters_Hotel_in_Las_Vegas.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1014,\n        "longitude": -115.1701\n      },\n        "rating": 3.4,\n      "description":"Located near the strip, this hotel offers basic rooms and a casino for budget conscious travelers"\n    }\n  ],\n    "itinerary": {\n    "day1": {\n       "theme":"Exploring the Strip & Free Attractions",\n      "bestTimeToVisit": "Morning/Evening for cooler temperatures",\n      "activities": [\n        {\n          "placeName": "Welcome to Fabulous Las Vegas Sign",\n          "placeDetails": "Iconic sign at the southern end of the Strip, great for photos.",\n             "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ee/Welcome_to_Las_Vegas_sign.jpg/1280px-Welcome_to_Las_Vegas_sign.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0829,\n            "longitude": -115.1725\n          },\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "travelTime": "15 min drive from Circus Circus "\n        },\n           {\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "A stunning display of floral art that changes seasonally.",\n             "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Bellagio_Conservatory.jpg/1280px-Bellagio_Conservatory.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1126,\n            "longitude": -115.1724\n          },\n          "ticketPricing": "Free",\n          "rating": 4.7,\n         "travelTime":" 15 min drive from Welcome to Las Vegas Sign "\n        },\n         {\n          "placeName": "Fountains of Bellagio",\n          "placeDetails": "A free water show with music and lights.",\n            "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Bellagio_Fountains_2.jpg/1280px-Bellagio_Fountains_2.jpg",\n          "geoCoordinates": {\n           "latitude": 36.1125,\n            "longitude": -115.1733\n          },\n          "ticketPricing": "Free",\n           "rating": 4.8,\n         "travelTime":" 5 min walk from Bellagio Conservatory & Botanical Garden"\n        },\n         {\n          "placeName": "The LINQ Promenade",\n          "placeDetails": "Outdoor shopping, dining, and entertainment area, stroll and enjoy the atmosphere.",\n           "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/LINQ_Promenade_night.jpg/1280px-LINQ_Promenade_night.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1174,\n            "longitude": -115.1692\n          },\n          "ticketPricing": "Free to walk around, costs for specific attractions",\n          "rating": 4.2,\n          "travelTime": "10 min walk from Fountains of Bellagio "\n        }\n\n      ]\n    },\n    "day2": {\n      "theme":"Downtown Las Vegas & Fremont Street Experience",\n      "bestTimeToVisit": "Evening for the light show",\n       "activities": [\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "A pedestrian mall with a giant LED canopy displaying a light and sound show.",\n             "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Fremont_Street_Experience.jpg/1280px-Fremont_Street_Experience.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1699,\n            "longitude": -115.1411\n          },\n          "ticketPricing": "Free",\n          "rating": 4.6,\n         "travelTime":"20 min drive from LINQ Promenade"\n        },\n         {\n           "placeName":"Container Park",\n          "placeDetails": "Shopping center and entertainment venue created from shipping containers.  Enjoy unique shops and food options.",\n           "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Downtown_Las_Vegas_Container_Park.jpg/1280px-Downtown_Las_Vegas_Container_Park.jpg",\n          "geoCoordinates": {\n             "latitude": 36.1679,\n            "longitude": -115.1416\n          },\n          "ticketPricing": "Free to enter, costs for shopping and food",\n          "rating": 4.3,\n         "travelTime": "5 min walk from Fremont Street Experience"\n        },\n           {\n          "placeName": "Mob Museum",\n          "placeDetails": "Explore the history of organized crime. (Consider a visit if you find discounted tickets.)",\n           "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/The_Mob_Museum_%28Las_Vegas%29_logo.svg/1280px-The_Mob_Museum_%28Las_Vegas%29_logo.svg.png",\n          "geoCoordinates": {\n            "latitude": 36.1671,\n            "longitude": -115.1456\n          },\n           "ticketPricing": "$30 (optional, check for deals)",\n          "rating": 4.5,\n          "travelTime": "10 min walk from Container Park"\n        }\n\n       ]\n     },\n    "day3": {\n      "theme": "Resort Hopping & Final Views",\n       "bestTimeToVisit": "Daytime for indoor attractions",\n      "activities": [\n        {\n          "placeName": "The Venetian & Grand Canal Shoppes",\n          "placeDetails": "Explore the Venetian canals and indoor shopping.",\n           "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/The_Venetian_Las_Vegas_Exterior.jpg/1280px-The_Venetian_Las_Vegas_Exterior.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1212,\n            "longitude": -115.1696\n          },\n          "ticketPricing": "Free to walk around, gondola rides have a fee",\n           "rating": 4.6,\n         "travelTime":"20 min drive from Mob Museum"\n        },\n            {\n          "placeName":"Paris Las Vegas & Eiffel Tower Experience",\n          "placeDetails": "See the Eiffel Tower replica. Consider going up for views if discounted tickets available.",\n            "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Paris_Las_Vegas_Eiffel_Tower.jpg/1280px-Paris_Las_Vegas_Eiffel_Tower.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1119,\n            "longitude": -115.1707\n          },\n           "ticketPricing":"$25-$30 (optional, check for discounts)",\n          "rating": 4.4,\n         "travelTime": "10 min drive from The Venetian & Grand Canal Shoppes"\n        },\n        {\n          "placeName": "High Roller Observation Wheel",\n          "placeDetails": "Take a ride on the world\'s tallest observation wheel for panoramic city views.(Check for discounted tickets.)",\n          "placeImageUrl":"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/The_High_Roller.jpg/1280px-The_High_Roller.jpg",\n            "geoCoordinates": {\n           "latitude": 36.1164,\n            "longitude": -115.1681\n          },\n         "ticketPricing":"$25-35 (optional, check for discounts)",\n          "rating": 4.5,\n          "travelTime": "15 min drive from Paris Las Vegas & Eiffel Tower Experience"\n\n        },\n        {\n          "placeName":"Explore more hotels and casinos on the strip",\n          "placeDetails":"Walk around and enjoy the atmosphere of other casinos like Luxor, Mandalay Bay etc.",\n            "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/LasVegasStrip.jpg/1280px-LasVegasStrip.jpg",\n           "geoCoordinates": {\n                "latitude":36.1095,\n                "longitude":-115.1717\n            },\n          "ticketPricing":"Free",\n          "rating": 4.0,\n           "travelTime": "10 mins drive from the High Roller"\n         }\n      ]\n    }\n  }\n}\n```\n**Notes for a Cheap Budget Trip:**\n\n*   **Transportation:** Utilize the public bus system (Deuce or SDX) to get around the Strip and downtown. Walking is also a great option.\n*   **Food:** Take advantage of food courts, affordable eateries, and grocery stores for meals to avoid costly restaurants.  Consider a picnic lunch in a park to reduce costs.\n*   **Entertainment:** Focus on free attractions and shows. Look for deals on paid activities and consider purchasing tickets online in advance for discounts.\n*   **Drinks:** Avoid expensive drinks at casinos. Carry your own water bottle. Happy hours can also be helpful\n*   **Gambling:** Stick to a small budget if you choose to gamble and treat it as entertainment, not a way to save money.\n* **Flexibility:** Be flexible with your itinerary. You can always find free alternatives if your plans change.\n\nEnjoy your trip to Las Vegas!\n',
        },
      ],
    },
  ],
});
